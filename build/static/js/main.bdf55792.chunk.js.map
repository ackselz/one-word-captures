{"version":3,"sources":["api/index.js","actions/posts.js","constants/actionTypes.js","Form/Form.js","Posts/Post/Post.js","Posts/Posts.js","Home/Home.js","Nav/Nav.js","actions/users.js","Auth/Auth.js","App.js","reducers/users.js","reducers/index.js","reducers/posts.js","index.js"],"names":["url","axios","defaults","withCredentials","fetchPostsBySearch","searchQuery","get","likePost","id","patch","updatePost","updatedPost","deletePost","delete","signUp","userData","post","signIn","dispatch","a","api","data","type","payload","console","log","message","Form","currentId","setCurrentId","useSelector","state","posts","find","_id","user","useState","title","tags","selectedFile","postData","setPostData","useEffect","useDispatch","clear","className","onSubmit","e","preventDefault","creator","username","newPost","createPost","htmlFor","name","placeholder","required","pattern","value","onChange","target","split","multiple","onDone","base64","onClick","Post","likes","setLikes","handleLike","includes","filter","like","src","alt","moment","createdAt","fromNow","map","tag","i","key","length","Posts","Home","cachedUser","JSON","parse","localStorage","getItem","setUser","Nav","query","setQuery","navigate","useNavigate","location","useLocation","to","trim","replace","Auth","isSignup","setIsSignup","password","confirmPassword","setUserData","handleChange","action","alert","redirect","then","res","prevIsSignup","App","path","exact","element","setItem","stringify","removeItem","combineReducers","error","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bdf55792.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst url = \"https://one-word-captures-backend.herokuapp.com/\";\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nexport const fetchPosts = () => axios.get(`${url}/posts`);\r\nexport const fetchPostsBySearch = (searchQuery) =>\r\n  axios.get(`${url}/posts/search?searchQuery=${searchQuery || \"none\"}`);\r\nexport const likePost = (id) => axios.patch(`${url}/posts/${id}/likePost`);\r\nexport const createPost = (newPost) => axios.post(`${url}/posts`, newPost);\r\nexport const updatePost = (id, updatedPost) =>\r\n  axios.patch(`${url}/posts/${id}`, updatedPost);\r\nexport const deletePost = (id) => axios.delete(`${url}/posts/${id}`);\r\n\r\nexport const signUp = (userData) => axios.post(`${url}/signUp`, userData);\r\nexport const signIn = (userData) => axios.post(`${url}/signIn`, userData);\r\nexport const signOut = () => axios.post(`${url}/signOut`);\r\n","import {\r\n  FETCH_ALL,\r\n  FETCH_BY_SEARCH,\r\n  CREATE,\r\n  UPDATE,\r\n  DELETE,\r\n  LIKE,\r\n} from \"../constants/actionTypes\";\r\nimport * as api from \"../api\";\r\n\r\nexport const getPosts = () => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.fetchPosts();\r\n    dispatch({ type: FETCH_ALL, payload: data });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n\r\nexport const getPostsBySearch = (searchQuery) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.fetchPostsBySearch(searchQuery);\r\n    console.log(data);\r\n    dispatch({ type: FETCH_BY_SEARCH, payload: data });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n\r\nexport const createPost = (post) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.createPost(post);\r\n    dispatch({ type: CREATE, payload: data });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n\r\nexport const updatePost = (id, post) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.updatePost(id, post);\r\n    dispatch({ type: UPDATE, payload: data });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n  try {\r\n    await api.deletePost(id);\r\n    dispatch({ type: DELETE, payload: id });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n\r\nexport const likePost = (id) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.likePost(id);\r\n    dispatch({ type: LIKE, payload: data });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n","export const FETCH_ALL = \"FETCH_ALL\";\r\nexport const FETCH_BY_SEARCH = \"FETCH_BY_SEARCH\";\r\nexport const CREATE = \"CREATE\";\r\nexport const UPDATE = \"UPDATE\";\r\nexport const DELETE = \"DELETE\";\r\nexport const LIKE = \"LIKE\";\r\nexport const SIGN_UP = \"SIGN_UP\";\r\nexport const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const ERROR = \"ERROR\";\r\n","import React, { useEffect, useState } from \"react\";\r\nimport FileBase from \"react-file-base64\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createPost, updatePost } from \"../actions/posts\";\r\n\r\nfunction Form({ currentId, setCurrentId }) {\r\n  const post = useSelector((state) =>\r\n    currentId ? state.posts.find((post) => post._id === currentId) : null\r\n  );\r\n  const user = useSelector((state) => state.user);\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    tags: \"\",\r\n    selectedFile: \"\",\r\n  });\r\n  useEffect(() => {\r\n    if (post) setPostData(post);\r\n  }, [post]);\r\n  const dispatch = useDispatch();\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (currentId) {\r\n      dispatch(updatePost(currentId, { ...postData, creator: user.username }));\r\n    } else {\r\n      dispatch(createPost({ ...postData, creator: user.username }));\r\n    }\r\n    clear();\r\n  };\r\n  const clear = () => {\r\n    setCurrentId(null);\r\n    setPostData({\r\n      title: \"\",\r\n      tags: \"\",\r\n      selectedFile: \"\",\r\n    });\r\n  };\r\n  return (\r\n    <form className=\"form\" onSubmit={handleSubmit}>\r\n      <p className=\"form-header\">{currentId ? \"Edit\" : \"Create\"}</p>\r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\" htmlFor=\"title\">\r\n          One-Word-Title\r\n        </label>\r\n        <input\r\n          className=\"form-input\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          placeholder=\"title\"\r\n          required\r\n          pattern=\"/^\\S*$/\"\r\n          value={postData.title}\r\n          onChange={(e) => setPostData({ ...postData, title: e.target.value })}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\" htmlFor=\"tags\">\r\n          Tags (CSV format)\r\n        </label>\r\n        <input\r\n          className=\"form-input\"\r\n          type=\"text\"\r\n          name=\"tags\"\r\n          placeholder=\"tags\"\r\n          value={postData.tags}\r\n          onChange={(e) =>\r\n            setPostData({ ...postData, tags: [...e.target.value.split(\",\")] })\r\n          }\r\n        />\r\n      </div>\r\n      <div className=\"form-fileBase\">\r\n        <FileBase\r\n          type=\"file\"\r\n          multiple={false}\r\n          onDone={({ base64 }) =>\r\n            setPostData({ ...postData, selectedFile: base64 })\r\n          }\r\n        ></FileBase>\r\n      </div>\r\n      <button className=\"\" type=\"submit\">\r\n        Submit\r\n      </button>\r\n      <button className=\"\" type=\"button\" onClick={clear}>\r\n        Clear\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React, { useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deletePost, likePost } from \"../../actions/posts\";\r\n\r\nfunction Post({ post, setCurrentId, user }) {\r\n  const dispatch = useDispatch();\r\n  const [likes, setLikes] = useState(post?.likes);\r\n  const handleLike = async () => {\r\n    dispatch(likePost(post._id));\r\n    if (post.likes.includes(user?.username)) {\r\n      setLikes(post.likes.filter((like) => like !== user?.username));\r\n    } else {\r\n      setLikes([...post.likes, user?.username]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      {user && (\r\n        <button\r\n          className=\"card-btn card-btn-edit\"\r\n          onClick={() => setCurrentId(post._id)}\r\n        >\r\n          <img src=\"/assets\\more_vert_black_24dp.svg\" alt=\"\" />\r\n        </button>\r\n      )}\r\n      {user && (\r\n        <button\r\n          className=\"card-btn card-btn-delete\"\r\n          onClick={() => dispatch(deletePost(post._id))}\r\n        >\r\n          <img src=\"/assets\\delete_forever_black_24dp.svg\" alt=\"\" />\r\n        </button>\r\n      )}\r\n      <div className=\"card-img-container\">\r\n        <img className=\"card-img\" src={post.selectedFile} alt=\"\" />\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <p className=\"card-createdAt\">{moment(post.createdAt).fromNow()}</p>\r\n        <p className=\"card-tags\">\r\n          {post.tags.map((tag, i) => (\r\n            <span key={i}>#{tag} </span>\r\n          ))}\r\n        </p>\r\n        <p className=\"card-text\">{post.message}</p>\r\n      </div>\r\n      <div className=\"card-footer\">\r\n        <div className=\"card-likes\">\r\n          {user && (\r\n            <button className=\"card-btn card-btn-like\" onClick={handleLike}>\r\n              {likes.includes(user.username) ? (\r\n                <img\r\n                  src=\"/assets\\favorite_border_black_24dp_filled.svg\"\r\n                  alt=\"\"\r\n                />\r\n              ) : (\r\n                <img src=\"/assets\\favorite_border_black_24dp.svg\" alt=\"\" />\r\n              )}\r\n            </button>\r\n          )}\r\n          <p className=\"card-likeCount\">\r\n            {likes.length} {likes.length === 1 ? \"like\" : \"likes\"}\r\n          </p>\r\n        </div>\r\n        <p className=\"card-creator\">by {post.creator}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Post from \"./Post/Post\";\r\n\r\nfunction Posts({ setCurrentId }) {\r\n  const posts = useSelector((state) => state.posts);\r\n  const user = useSelector((state) => state.user);\r\n\r\n  return !posts.length ? null : (\r\n    <>\r\n      {posts.map((post) => (\r\n        <Post\r\n          key={post._id}\r\n          post={post}\r\n          user={user}\r\n          setCurrentId={setCurrentId}\r\n        ></Post>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Posts;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPosts } from \"../actions/posts\";\r\nimport Form from \"../Form/Form\";\r\nimport Posts from \"../Posts/Posts\";\r\n\r\nfunction Home() {\r\n  const dispatch = useDispatch();\r\n  const cachedUser = useSelector((state) => state.user);\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"user\")));\r\n  const [currentId, setCurrentId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(getPosts());\r\n  }, [currentId, dispatch]);\r\n\r\n  useEffect(() => {\r\n    setUser(JSON.parse(localStorage.getItem(\"user\")));\r\n  }, [cachedUser]);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {user ? (\r\n        <Form currentId={currentId} setCurrentId={setCurrentId}></Form>\r\n      ) : null}\r\n      <Posts setCurrentId={setCurrentId}></Posts>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation, useNavigate, Link } from \"react-router-dom\";\r\nimport { signOut } from \"../actions/users\";\r\nimport { getPostsBySearch } from \"../actions/posts\";\r\n\r\nfunction Nav() {\r\n  let cachedUser = useSelector((state) => state.user);\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"user\")));\r\n  const [query, setQuery] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    setUser(JSON.parse(localStorage.getItem(\"user\")));\r\n  }, [cachedUser, location]);\r\n\r\n  const handleSignOut = () => {\r\n    cachedUser = null;\r\n    dispatch(signOut());\r\n  };\r\n\r\n  const handleGoToAuth = () => {\r\n    navigate(\"/auth\");\r\n  };\r\n\r\n  const handleQueryChange = (e) => {\r\n    setQuery(e.target.value);\r\n  };\r\n\r\n  const handleQuerySubmit = (e) => {\r\n    if (query.trim()) {\r\n      dispatch(getPostsBySearch(query.replace(\" \", \",\")));\r\n      navigate(`/posts/search?searchQuery=${query || \"none\"}`);\r\n    } else {\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"nav\">\r\n      <Link to=\"/posts\">\r\n        <h1 className=\"nav-brand\">one-word-captures</h1>\r\n      </Link>\r\n      <div className=\"nav-searchbar\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"search\"\r\n          placeholder=\"filter by tags\"\r\n          value={query}\r\n          onChange={handleQueryChange}\r\n        />\r\n        <button onClick={handleQuerySubmit}>search</button>\r\n      </div>\r\n      {user && <p className=\"nav-user\">Signed in as: {user.username}</p>}\r\n      {user ? (\r\n        <div className=\"auth-btn\">\r\n          <button onClick={handleSignOut}>SIGN OUT</button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"auth-btn\">\r\n          <button onClick={handleGoToAuth}>SIGN IN</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import { SIGN_UP, SIGN_IN, SIGN_OUT, ERROR } from \"../constants/actionTypes\";\r\nimport * as api from \"../api\";\r\n\r\nexport const signUp = (userData) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.signUp(userData);\r\n    console.log(data);\r\n    return dispatch({ type: SIGN_UP, payload: data });\r\n  } catch (error) {\r\n    return dispatch({\r\n      type: ERROR,\r\n      payload: {\r\n        message: \"Username already exists\",\r\n        redirect: \"/auth\",\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const signIn = (userData) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.signIn(userData);\r\n    console.log(data);\r\n    return dispatch({ type: SIGN_IN, payload: data });\r\n  } catch (error) {\r\n    return dispatch({\r\n      type: ERROR,\r\n      payload: {\r\n        message: \"Username or password is incorrect\",\r\n        redirect: \"/auth\",\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const signOut = () => async (dispatch) => {\r\n  try {\r\n    await api.signOut();\r\n    return dispatch({ type: SIGN_OUT });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { signUp, signIn } from \"../actions/users\";\r\n\r\nfunction Auth() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  const [userData, setUserData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n\r\n  const changeMode = () => {\r\n    setIsSignup((prevIsSignup) => !prevIsSignup);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setUserData({ ...userData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isSignup && userData.username.trim() === \"\") {\r\n      return alert(\"Username cannot be blank\");\r\n    }\r\n    if (isSignup && userData.confirmPassword !== userData.password) {\r\n      return alert(\"Passwords do not match\");\r\n    }\r\n    isSignup\r\n      ? dispatch(\r\n          signUp({ username: userData.username, password: userData.password })\r\n        ).then((res) => {\r\n          res?.type === \"ERROR\"\r\n            ? alert(res.payload.message)\r\n            : navigate(\"/posts\");\r\n        })\r\n      : dispatch(\r\n          signIn({ username: userData.username, password: userData.password })\r\n        ).then((res) => {\r\n          res?.type === \"ERROR\"\r\n            ? alert(res.payload.message)\r\n            : navigate(\"/posts\");\r\n        });\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <p className=\"auth-header\">{isSignup ? \"Sign Up\" : \"Sign In\"}</p>\r\n\r\n      <form className=\"auth-form\" action=\"\" onSubmit={handleSubmit}>\r\n        {/* {isSignup && (\r\n          <div className=\"auth-form-group\">\r\n            <label htmlFor=\"email\">Email:</label>\r\n            <input type=\"text\" name=\"email\" id=\"\" onChange={handleChange} />\r\n          </div>\r\n        )} */}\r\n        <div className=\"auth-form-group\">\r\n          <label htmlFor=\"username\">Username:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            required\r\n            onChange={handleChange}\r\n            value={userData.username}\r\n          />\r\n        </div>\r\n        <div className=\"auth-form-group\">\r\n          {isSignup ? (\r\n            <label htmlFor=\"password\">*Password:</label>\r\n          ) : (\r\n            <label htmlFor=\"password\">Password:</label>\r\n          )}\r\n\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            required\r\n            pattern={\r\n              isSignup\r\n                ? \"^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$\"\r\n                : null\r\n            }\r\n            value={userData.password}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        {isSignup ? (\r\n          <p className=\"auth-form-pw\">\r\n            *Minimum eight characters, at least one letter, one number and one\r\n            special character\r\n          </p>\r\n        ) : null}\r\n\r\n        {isSignup && (\r\n          <div className=\"auth-form-group\">\r\n            <label htmlFor=\"confirmPassword\">Confirm Password:</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"confirmPassword\"\r\n              pattern=\"^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$\"\r\n              required\r\n              value={userData.confirmPassword}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n        )}\r\n        <button className=\"auth-form-submit\" type=\"submit\">\r\n          {isSignup ? \"Sign Up\" : \"Sign In\"}\r\n        </button>\r\n      </form>\r\n      <button className=\"auth-changeMode\" type=\"button\" onClick={changeMode}>\r\n        {isSignup\r\n          ? \"Already have an account? Sign in here\"\r\n          : \"Don't have an account? Sign up here\"}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Auth;\r\n","import React from \"react\";\nimport Home from \"./Home/Home\";\nimport Nav from \"./Nav/Nav\";\nimport Auth from \"./Auth/Auth\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Nav></Nav>\n      <Routes>\n        <Route path=\"/posts\" exact element={<Home />}></Route>\n        <Route path=\"/posts/search\" exact element={<Home />}></Route>\n        <Route path=\"/auth\" exact element={<Auth />}></Route>\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { SIGN_UP, SIGN_IN, SIGN_OUT } from \"../constants/actionTypes\";\r\nexport default (user = null, action) => {\r\n  switch (action.type) {\r\n    case SIGN_UP:\r\n      localStorage.setItem(\"user\", JSON.stringify(action.payload));\r\n      return (user = action.payload);\r\n    case SIGN_IN:\r\n      console.log(\"test\");\r\n      localStorage.setItem(\"user\", JSON.stringify(action.payload));\r\n      return (user = action.payload);\r\n    case SIGN_OUT:\r\n      console.log(\"test\");\r\n      localStorage.removeItem(\"user\");\r\n      return (user = null);\r\n    default:\r\n      return user;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport posts from \"./posts\";\r\nimport user from \"./users\";\r\nimport error from \"./users\";\r\n\r\nexport default combineReducers({ posts, user, error });\r\n","import {\r\n  FETCH_ALL,\r\n  FETCH_BY_SEARCH,\r\n  CREATE,\r\n  UPDATE,\r\n  DELETE,\r\n  LIKE,\r\n} from \"../constants/actionTypes\";\r\nexport default (posts = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_ALL:\r\n      return action.payload;\r\n    case FETCH_BY_SEARCH:\r\n      console.log(action.payload);\r\n      return action.payload;\r\n    case CREATE:\r\n      return [...posts, action.payload];\r\n    case UPDATE:\r\n    case LIKE:\r\n      return posts.map((post) =>\r\n        post._id === action.payload._id ? action.payload : post\r\n      );\r\n    case DELETE:\r\n      return posts.filter((post) => post._id !== action.payload);\r\n    default:\r\n      return posts;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducers from \"./reducers\";\nimport \"./index.css\";\n\nconst store = createStore(reducers, compose(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}